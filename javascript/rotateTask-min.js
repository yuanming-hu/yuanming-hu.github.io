// Generated by CoffeeScript 1.4.0
(function(){NAN.RotateTask=function(){function e(e,t){var n=this;this.elementB=e,this.direction=t!=null?t:1,this.frames=100,this.timeStep=20,this.time=0,this.angle=0,this.getElementA().css("opacity",1),this.getElementB().css("opacity",0),this.getElementA().show(0),this.getElementB().show(0),this.intervalId=setInterval(function(){return n.update()},this.timeStep),$("body").css("-webkit-perspective","1001px"),$.inTransition=!0}return e.prototype.update=function(){var e;return this.time+=1,this.time>=this.frames&&(this.getElementA().hide(),this.getElementB().show(),$.currentScreen=this.elementB,console.log($.currentScreen),clearInterval(this.intervalId),$.inTransition=!1),e=(1-Math.cos(this.time/this.frames*Math.PI))/2,this.angle=180*e,this.getElementA().css("opacity",Math.max(1-e*2,0)),this.getElementB().css("opacity",Math.max((e-.5)*2,0)),e>=.5&&(e+=1),$("#container").css("-webkit-transform","rotateY("+this.direction*180*e+"deg)")},e.prototype.getElementA=function(){return $($.currentScreen)},e.prototype.getElementB=function(){return $(this.elementB)},e}()}).call(this);